<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="In this blog post, I’ll be explaining how we can implement unit tests for async JavaScript code using Vitest. In the example code, we will generate JSON Web Token to understand the logic behind the as">
<meta property="og:type" content="article">
<meta property="og:title" content="Testing Async Code Using Vitest">
<meta property="og:url" content="http://example.com/2023/01/19/testing-async-code-using-vitest/index.html">
<meta property="og:site_name" content="semih berkay öztürk">
<meta property="og:description" content="In this blog post, I’ll be explaining how we can implement unit tests for async JavaScript code using Vitest. In the example code, we will generate JSON Web Token to understand the logic behind the as">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-01-19T16:25:00.000Z">
<meta property="article:modified_time" content="2023-08-04T09:33:37.219Z">
<meta property="article:tag" content="test">
<meta property="article:tag" content="software">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="vitest">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/s.png">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon.ico" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
        
      
    
    <!-- title -->
    <title>Testing Async Code Using Vitest</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/bbsemih">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2023/04/22/Essentials-of-Transactions-in-PostgreSQL/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2023/01/19/testing-async-code-using-vitest/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&text=Testing Async Code Using Vitest"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&title=Testing Async Code Using Vitest"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&is_video=false&description=Testing Async Code Using Vitest"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Testing Async Code Using Vitest&body=Check out this article: http://example.com/2023/01/19/testing-async-code-using-vitest/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&title=Testing Async Code Using Vitest"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&title=Testing Async Code Using Vitest"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&title=Testing Async Code Using Vitest"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&title=Testing Async Code Using Vitest"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&name=Testing Async Code Using Vitest&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2023/01/19/testing-async-code-using-vitest/&t=Testing Async Code Using Vitest"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Functions-To-Generate-JWT"><span class="toc-number">1.</span> <span class="toc-text">Functions To Generate JWT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Wrong-Approach"><span class="toc-number">2.</span> <span class="toc-text">Wrong Approach</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-To-Fix-It"><span class="toc-number">3.</span> <span class="toc-text">How To Fix It?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Promises-and-Async-Await"><span class="toc-number"></span> <span class="toc-text">Promises and Async&#x2F;Await</span></a>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Testing Async Code Using Vitest
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name"></span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-01-19T16:25:00.000Z" class="dt-published" itemprop="datePublished">2023-01-19</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/javascript/" rel="tag">javascript</a>, <a class="p-category" href="/tags/software/" rel="tag">software</a>, <a class="p-category" href="/tags/test/" rel="tag">test</a>, <a class="p-category" href="/tags/vitest/" rel="tag">vitest</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>In this blog post, I’ll be explaining how we can implement unit tests for async JavaScript code using <a target="_blank" rel="noopener" href="https://github.com/vitest-dev/vitest">Vitest</a>. In the example code, we will generate JSON Web Token to understand the logic behind the async testing easier. Note that since there are no major differences between Jest and Vitest, you can also use Jest to perform the same action.</p>
<h2 id="Functions-To-Generate-JWT"><a href="#Functions-To-Generate-JWT" class="headerlink" title="Functions To Generate JWT"></a>Functions To Generate JWT</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jwt <span class="keyword">from</span> <span class="string">&#x27;jsonwebtoken&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">generateToken</span>(<span class="params">userEmail, doneFn</span>) &#123;</span><br><span class="line">    jwt.<span class="title function_">sign</span>(&#123; <span class="attr">email</span>: userEmail &#125;, <span class="string">&#x27;secret123&#x27;</span>, doneFn);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">generateTokenPromise</span>(<span class="params">userEmail</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        jwt.<span class="title function_">sign</span>(&#123; <span class="attr">email</span>: userEmail &#125;, <span class="string">&#x27;secret123&#x27;</span>, <span class="function">(<span class="params">error, token</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (error) &#123;</span><br><span class="line">                <span class="title function_">reject</span>(error);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="title function_">resolve</span>(token);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> promise;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<h2 id="Wrong-Approach"><a href="#Wrong-Approach" class="headerlink" title="Wrong Approach"></a>Wrong Approach</h2><p>We expect JWT to be defined and the first test actually passes but does it really work? </p>
<p>As a matter of fact, no. Because it is not waiting for the <code>generateToken</code> function to complete before the test finishes. The <code>generateToken</code> function is async, therefore the test finishes before the generateToken function has had a chance to complete and call the callback function, which means that the <code>expect(token).toBeDefined()</code> assertion is never reached.</p>
<p>In the second test, we’re trying to generate a JWT and this time expecting it to be 2. The test once again passes, doesn’t give any error although it is pretty much impossible jsonwebtoken to generate a token which is 2.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; it, expect &#125; <span class="keyword">from</span> <span class="string">&quot;vitest&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; generateToken &#125; <span class="keyword">from</span> <span class="string">&quot;./async-example&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;test 1&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> userEmail = <span class="string">&quot;random@random.com&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">generateToken</span>(userEmail, <span class="function">(<span class="params">err, token</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">expect</span>(token).<span class="title function_">toBeDefined</span>();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;test 2&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> userEmail = <span class="string">&quot;random@random.com&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">generateToken</span>(userEmail, <span class="function">(<span class="params">err, token</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">expect</span>(token).<span class="title function_">toBe</span>(<span class="number">2</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="How-To-Fix-It"><a href="#How-To-Fix-It" class="headerlink" title="How To Fix It?"></a>How To Fix It?</h2><p>In order to fix these problems, this time instead of putting the test in a function with an empty argument, we’re gonna use a single argument called <code>done</code>. So in that way Vitest will wait for the <code>done</code> function to be called before considering the test complete and will execute the assertion inside the callback, giving it the chance to run.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&quot;test 1&quot;</span>, <span class="function">(<span class="params">done</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> userEmail = <span class="string">&quot;random@random.com&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">generateToken</span>(userEmail, <span class="function">(<span class="params">err, token</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">expect</span>(token).<span class="title function_">toBeDefined</span>();</span><br><span class="line">        <span class="title function_">done</span>();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//This time this doesn&#x27;t pass as we expected.</span></span><br><span class="line"><span class="comment">//And doesn&#x27;t timeout thanks to the try-catch block. </span></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;test 2&quot;</span>, <span class="function">(<span class="params">done</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> userEmail = <span class="string">&quot;random@random.com&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">generateToken</span>(userEmail, <span class="function">(<span class="params">err, token</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="title function_">expect</span>(token).<span class="title function_">toBe</span>(<span class="number">2</span>);</span><br><span class="line">            <span class="title function_">done</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">            <span class="title function_">done</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="Promises-and-Async-Await"><a href="#Promises-and-Async-Await" class="headerlink" title="Promises and Async&#x2F;Await"></a>Promises and Async&#x2F;Await</h1><p>Alternatively, we can also use <code>async</code> and <code>await</code> or  adding <code>resolves</code> after <code>expect(token)</code> to wait for the promise to resolve and then perform the assertion without putting <code>done</code> as an argument.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&quot;test 1 async/await&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> userEmail = <span class="string">&quot;random@random.com&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="keyword">await</span> <span class="title function_">generateTokenPromise</span>(userEmail);</span><br><span class="line">    <span class="title function_">expect</span>(token).<span class="title function_">toBeDefined</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;test 1 .resolves()&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> userEmail = <span class="string">&quot;random@random.com&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">expect</span>(<span class="title function_">generateTokenPromise</span>(userEmail)).<span class="property">resolves</span>.<span class="title function_">toBeDefined</span>();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>Sources:</p>
<ul>
<li>vitest.dev</li>
<li>Academind</li>
</ul>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/bbsemih">Projects</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Functions-To-Generate-JWT"><span class="toc-number">1.</span> <span class="toc-text">Functions To Generate JWT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Wrong-Approach"><span class="toc-number">2.</span> <span class="toc-text">Wrong Approach</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-To-Fix-It"><span class="toc-number">3.</span> <span class="toc-text">How To Fix It?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Promises-and-Async-Await"><span class="toc-number"></span> <span class="toc-text">Promises and Async&#x2F;Await</span></a>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2023/01/19/testing-async-code-using-vitest/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&text=Testing Async Code Using Vitest"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&title=Testing Async Code Using Vitest"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&is_video=false&description=Testing Async Code Using Vitest"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Testing Async Code Using Vitest&body=Check out this article: http://example.com/2023/01/19/testing-async-code-using-vitest/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&title=Testing Async Code Using Vitest"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&title=Testing Async Code Using Vitest"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&title=Testing Async Code Using Vitest"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&title=Testing Async Code Using Vitest"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2023/01/19/testing-async-code-using-vitest/&name=Testing Async Code Using Vitest&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2023/01/19/testing-async-code-using-vitest/&t=Testing Async Code Using Vitest"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2023
    semih berkay öztürk
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/bbsemih">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
